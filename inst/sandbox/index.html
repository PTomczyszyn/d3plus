<!doctype html>
<meta charset="utf-8">
 
<script src="http://www.d3plus.org/js/d3.js"></script>
<script src="http://www.d3plus.org/js/d3plus.js"></script>
 
<div id="viz"></div>
<div>
    <span id="viz-placeholder">Click a date on the calendar</span>
</div>
 

<script>

  var sample_data = [
    {"name": "alpha", "value": 20},
    {"name": "beta", "value": 12},
    {"name": "gamma", "value": 30},
    {"name": "delta", "value": 26},
    {"name": "epsilon", "value": 30},
    {"name": "zeta", "value": 30},
    {"name": "theta", "value": 11},
    {"name": "eta", "value": 24}
  ]

  var connections = [
    {"source": "alpha", "target": "beta"},
    {"source": "alpha", "target": "gamma"},
    {"source": "beta", "target": "delta"},
    {"source": "beta", "target": "epsilon"},
    {"source": "zeta", "target": "gamma"},
    {"source": "theta", "target": "gamma"},
    {"source": "eta", "target": "gamma"}
  ]

  var visualization = d3plus.viz()
    .container("#viz")
    .type("rings")
    .data(sample_data)
    .id("name")
    .size("value")
    .edges(connections)
    .focus("alpha")
    .draw()

var config = {
    "avatar_size" : 48
}

var svg = d3.select("svg")
var defs = svg.append('svg:defs');

defs.append("svg:pattern")
    .attr("id", "grump_avatar")
    .attr("width", config.avatar_size)
    .attr("height", config.avatar_size)
    .attr("patternUnits", "userSpaceOnUse")
    .append("svg:image")
    .attr("xlink:href", 'http://placekitten.com/g/48/48')
    .attr("width", config.avatar_size)
    .attr("height", config.avatar_size)
    .attr("x", 0)
    .attr("y", 0);

var circle = svg.selectAll("rect")
        .attr("cx", config.avatar_size/2)
        .attr("cy", config.avatar_size/2)
        .attr("r", config.avatar_size/2)
        .style("fill", "#fff")
        .style("fill", "url(#grump_avatar)");




  // var circle = d3.selectAll("rect.d3plus_data")
  //   //   .data(json.nodes)
  //   // .enter().append("g")
  //   //   .attr("class", "node")
  //   //   .call(force.drag);

  // circle.append("image")
  //     .attr("xlink:href", "https://github.com/favicon.ico")
  //     .attr("x", -8)
  //     .attr("y", -8)
  //     .attr("width", 16)
  //     .attr("height", 16);

</script>



